<div class="container custom-container" [formGroup]="form" (ngSubmit)="addSale()">
  <div class="col-md-12">
    <h3 class="mb-3 text-center">Create Sale</h3>

    <div class="form-group" [ngClass]="{invalid: form.get('customerName').touched && form.get('customerName').invalid}">
      <select [(ngModel)]="saleDetails.customerId" class="form-control" formControlName="customerName">
        <option [ngValue]="0" selected disabled hidden>Select customer</option>
        <option *ngFor = "let customer of customersNames" [ngValue]="customer.id">{{customer.name}}
        </option>
      </select>
      <div
        *ngIf="form.get('customerName').touched && form.get('customerName').invalid"
        class="validation text-danger"
      >
        <small *ngIf="form.get('customerName').errors.required">
          Select customer Name
        </small>
      </div>
    </div>

    <div class="form-group" [ngClass]="{invalid: form.get('productName').touched && form.get('productName').invalid}">
      <select [(ngModel)]="saleDetails.productId" class="form-control" formControlName="productName">
        <option value="-1" selected disabled hidden>Select product</option>
        <option *ngFor = "let product of productsNames" [ngValue]="product.id">{{product.name}}
        </option>
      </select>
      <div
        *ngIf="form.get('productName').touched && form.get('productName').invalid"
        class="validation text-danger"
      >
        <small *ngIf="form.get('productName').errors.required">
          Select product Name
        </small>
      </div>
    </div>

    <div class="form-group" [ngClass]="{invalid: form.get('date').touched && form.get('date').invalid}">
      <input type="date" [(ngModel)]="saleDetails.dateOfSale" class="form-control" placeholder="Enter date of sale" formControlName="date">
      <div
        *ngIf="form.get('date').touched && form.get('date').invalid"
        class="validation text-danger"
      >
        <small *ngIf="form.get('date').errors.required">
          Enter date
        </small>
      </div>
    </div>

    <div class="form-group" [ngClass]="{invalid: form.get('amount').touched && form.get('amount').invalid}">
      <input type="text" [(ngModel)]="saleDetails.amount" class="form-control" placeholder="Enter sale amount" formControlName="amount">
      <div
        *ngIf="form.get('amount').touched && form.get('amount').invalid"
        class="validation text-danger"
      >
        <small *ngIf="form.get('amount').errors.required">
          Enter amount
        </small>
        <small *ngIf="form.get('amount').errors.min">
          Amount must be more then 1
        </small>
        <small *ngIf="form.get('amount').errors.max">
          Amount must be less then 50
        </small>
        <small *ngIf="form.get('amount').errors.pattern">
          Amount must be number
        </small>
      </div>
    </div>

    <div class="form-group">
      <button [disabled]="form.invalid" class="btn btn-success btn-lg btn-block" (click)="addSale()">Create Sale</button>
    </div>

  </div>
</div>
